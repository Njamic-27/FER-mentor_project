# Sedona GIS Query Benchmark Configuration
# 
# This configuration file controls the benchmark execution.
# Command-line arguments can override these settings.

# ============================================================================
# SPARK CONFIGURATION
# ============================================================================
# Controls Apache Spark distributed computing framework settings.
# 
# Overridable via CLI:
#   --workers INT              Override number of workers
#   --driver-memory STRING     Override driver memory
#   --executor-memory STRING   Override executor memory
#
spark:
  workers: 8                          # Number of local Spark worker threads
  driver_memory: "4g"                 # Driver JVM memory allocation
  executor_memory: "4g"               # Executor JVM memory allocation
  additional_config:
    spark.sql.adaptive.enabled: true  # Enable adaptive query execution
    spark.sql.adaptive.coalescePartitions.enabled: true

# ============================================================================
# DATASET CONFIGURATION
# ============================================================================
# Specifies the input data source for benchmarking.
#
dataset:
  path: "/dev-root/maps/map/map_ways.parquet"  # Path to GeoParquet OSM dataset
  format: "parquet"                             # Format: parquet, geojson, csv
  view_name: "osm_data"                         # SQL table/view name for queries

# ============================================================================
# BENCHMARK CONFIGURATION
# ============================================================================
# Controls benchmark execution parameters.
#
# Overridable via CLI:
#   --num-runs INT             Number of benchmark executions per query
#   --warmup-runs INT          Number of warmup runs (not measured)
#   --query-plans              Extract Spark query execution plans
#   --memory-stats             Collect memory usage statistics
#
benchmark:
  num_runs: 10                        # Number of timed executions per query
  warmup_runs: 2                      # Cache-warming iterations (not timed)

# ============================================================================
# QUERY CONFIGURATION
# ============================================================================
# Specifies which queries to execute.
#
# Query files are executed in alphabetical order.
# A query filter can be applied via CLI: --queries query_01 query_03 query_05
#
queries:
  directory: "/dev-root/sedona_fer/bench/queries"  # Directory containing .sql files

# ============================================================================
# OUTPUT CONFIGURATION
# ============================================================================
# Controls result storage and visualization.
#
output:
  directory: "results"                # Directory for results JSON and plots
  generate_plots: true                # Generate comprehensive visualizations
